#### 装饰器

装饰器就是修饰函数和类的一张方法，一般是把函数或类做对参数输入，修饰过后再输出。

装饰器是为函数和类指定管理和扩增代码的一种方式，装饰器本身采取可调用对象的形式（如函数），并处理其他可调用对象。装饰器以两种相关的形式呈现：

- 函数装饰器：在函数定义的时候进行名称重绑定，提供一个逻辑层来管理函数和方法，以及管理随后对它们的调用。函数装饰器可以用来管理函数调用和函数对象。

- 类装饰器：在类定义的时候进行名称重绑定，提供一个逻辑层来管理类，以及管理随后调用它们所创建的实例。类装饰器可以用来管理类实例和类自身。

装饰器提供在函数和类定义语句结束时插入自动运行的代码，对于函数装饰器，在 `def` 语句结束时插入；对于类装饰器，在 `class` 语句结束时插入。

##### 函数装饰器

函数装饰器大体上是一种语法糖：在 `def` 语句结束时通过另一个函数来运行这个函数，把最初的函数名重新绑定到返回的结果。

函数装饰器是一种关于函数的运行时声明，函数的定义要遵守此声明。装饰器在定义函数或方法的 `def` 语句的前一行编写，并且由 `@` 符号以及紧随其后的对于元函数的一个引用组成（这是惯例另一个函数的函数）。

##### 类装饰器

示例：

```python
def decorator(cls): #创建一个类装饰器
    class Wrapper:
        def __init__(self, *args): #将被装饰的类的名称绑定到另一个名称上
            self.wrapped = cls(*args)
        def __getattr__(self, name): #获取属性时被装饰类的属性时，包装器继续拦截，然后返回包装的内容
            return getattr(self.wrapped, name)
    return Wrapper

@decorator
class Ex:
    def __init__(self, x, y):
        self.attr = "spam"
        self.a = x
        
x = Ex(6,7)
x.attr #输出：spam
```

## 未完

