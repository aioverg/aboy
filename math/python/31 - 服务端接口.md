#### 服务端接口

`Python` 文件

```python
from wsgiref.simple_server import make_server


def index(environ):
    ret = environ['QUERY_STRING']
    return ret.encode('utf-8')
 
 
def url_func(environ):
    urls = [('/index', index(environ))]
    return urls


def application(environ, star_response):
    star_response('200 OK', [('Content-Type', 'text/html;charset=urf-8')])
    url = environ['PATH_INFO']  
    func = None
    for i in url_func(environ):
        if i[0] == url:
            func = i[1]
            break
    if func:
        response = func
    else:
        response = b'message: 404 not found!'
    return [response, ]

 
if __name__ == "__main__":
    # 监听的请求url
    url = "127.0.0.1"
    port = 8081 #监听的端口 只要是8081端口的都会返回数据，下面请求的url加了/docs/ 是nginx 匹配的需要
    # httpd = make_server("0.0.0.0", port, application)
    httpd = make_server(url, port, application)
    print("正在请求")
    # print "serving http on port {0}...".format(str(port))
    httpd.serve_forever()
```

`nginx 配置文件`

```nginx
server {
    listen       80;
    server_name  localhost;

    #charset koi8-r;

    access_log  logs/host.access.log;

    location / {
        root html;
        index index.html index.htm;
    }
    location ^~ /docs/ {
        proxy_pass   http://localhost:8081;
    }
}
```

