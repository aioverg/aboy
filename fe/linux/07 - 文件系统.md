#### 文件系统

##### 索引式文件系统

在索引式文件系统中，文件的 `inode`（记录文件数据所在位置的 `block` 号码），与 `block` （文件数据的内容）分别放在不同的区块，读取文件时先一次性读取出 `inode` ，再根据 `inode` 读取 `block` 。示意图如下：从文件的 `inode` 读取一个文件被存放再 `5` `8` `10` 号位置，然后从相应位置读取到整个文件。注意，一个`block`只能存放一个文件，一个文件可有多个 `block` 进行存放，格式化的时候可以指定 `block` 的大小。

<img src="..\img\041.png" style="zoom:67%;" />

##### FAT格式文件系统

在FAT格式的文件系统中， `inode` 与`block` 被存放在一起，先读取一个 `block`  和 `inode`，再读取下一个。示意图如下：先读取一段，然后找到 `inode` ，根据 `inode` 再读取下一段，知道读取整个文件。

<img src="..\img\042.png" style="zoom:67%;" />

##### 磁盘分区

- `MBR` 使用 `fdisk` 分区，`GPT` 使用`gdisk`分区。

- **gdisk分区示例**：使用 `gdisk 装置名称` 命令，然后跟随提示走下去即可。
- **删除分区示例**：



##### 相关命令

- **`df 参数 文件名`** ：列出文件系统的使用量。

  参数：

  1. `-a` ：列出所有的文件系统，包括系统特有的 `/proc` 等文件系统。
  2. `-k` ：以 `KBytes` 的容量显示各文件系统。
  3. `-m` ：以 `MBytes` 的容量显示各文件系统。
  4. `-h` ：自动选择较易读的格式显示各文件系统。
  5. `H` ：以 `M=1000K` 取代 `M=1024K` 的进位方式。
  6. `T` ：连同该 `parition` 的 `filesystem` 名称也列出。
     1. `-i` ：不用磁盘容量，以  `inode` 的数量来显示。

- **`lsblk 参数`** ：列出系统上的所有磁盘列表。

  1. `-d` ：仅列出磁盘本身，不会列出该磁盘的分区数据。
  2. `-f` ：同时列出该磁盘内的文件系统名称。
  3. `-i` ：使用 `ASCII` 的线段输出，不要使用复杂的编码。
  4. `-m` ：同时输出该装置再 `/dev` 下的权限数据。
  5. `-p` ：列出该装置的完整文件名。
  6. `-t` ：列出该磁盘装置的详细数据，包括磁盘队列机制、预读写的数据量大小等。

- **`blkid`**：列出装置的 `UUID` 等参数。

- **`parted`** ：列出磁盘的分区表类型与分区信息。

