#### 表单

`React` 中最流行的表单插件 `Formik` 。

##### 受控组件

在 `HTML` 中，表单元素（`input`、 `textarea`、 `select`）通常自己维护状态，并根据用户的输入进行更新。而在 `React` 中，可变状态通常保存在组件的 `state` 属性中，并且能通过 `setState()` 更新。如果把两者结合起来，使 `React` 的 `state` 成为唯一的数据源，渲染表单的 `React` 组件还控制着用户输入过程中表单发生的操作，被 `React` 以这种方式控制取值的表单输入元素就叫做受控组件。

示例：

```react
<!DOCTYPE >
<html>
	<head>
		<meta charset="utf-8" />
		<title>React</title>
		<!--引入react-->
		<script src="react.development.js"></script>
		<!--引入react-dom-->
		<script src="react-dom.development.js"></script>
		<!--引入babel，用以识别转义JSX-->
		<script src="babel.min.js"></script>
	</head>
	<body>
		<div id="root">占位</div>
	</body>
	<!--转义JSX-->
	<script type="text/jsx">
	    const root = document.getElementById('root')
		
		class Ex extends React.Component {
		    constructor(props){
			    super(props)
				this.state = {name: ""}
				this.change = this.change.bind(this)
			}
			change(e){
			    this.setState({name: e.target.value})
			}
			render(){
			    return (
			        <div>
					    <h2>输入内容：{this.state.name}</h2>
					    <label>
						    名字：
					        <input type="text" value={this.state.name} onChange={this.change} />
						</label>
				    </div>
				)
			}
		}
        
		ReactDOM.render(<Ex />, root)
    </script>
</html>
```

可以看到，对于受控组件来说，输入的值始终由 `React` 的 `state` 驱动。

##### 处理多个输入

当要处理多个 `<input>` 元素时，可以给每个元素添加 `name` 属性，让处理函数根据 `e.target.name` 的值选择要执行的操作。如：

```react
class Ex extends React.Component {
    constructor(props){
        super(props)
        this.state = {
            age: "",
            name: ""
        }
        this.change = this.change.bind(this)
    }
    change(e){
        if(e.target.name == "age"){
            this.setState({age: e.target.value})
        }
        if(e.target.name == "name"){
            this.setState({name: e.target.value})
        }
    }
    render(){
        return (
            <div>
                <h2>年龄：{this.state.age}</h2>
                <h2>名字：{this.state.name}</h2>
                <label>
                    年龄：
                    <input type="text" name="age" value={this.state.age} onChange={this.change} />
                </label>
                <label>
                    名字：
                    <input type="text" name="name" value={this.state.name} onChange={this.change} />
                </label>
            </div>
        )
    }
}
		
ReactDOM.render(<Ex />, root)
```



##### 非受控组件

在 `HTML` 中， `<input type="file">` 允许用户从存储设备中选择一个或多个文件，将其上传到服务器，由于它的 `value` 是只读的，所以它是 `React` 中的一个非受控组件。